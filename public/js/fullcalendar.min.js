!function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t){r(J,t)}function r(e){function n(n,o){t.isPlainObject(o)&&t.isPlainObject(e[n])&&!a(n)?e[n]=r({},e[n],o):void 0!==o&&(e[n]=o)}for(var o=1;arguments.length>o;o++)t.each(arguments[o],n);return e}function a(t){return/(Time|Duration)$/.test(t)}function o(n,a){function o(){setTimeout(function(){!B.start&&d()&&f()},0)}function c(){return n.is(":visible")}function d(){return t("body").is(":visible")}function u(e){var n;B&&e==B.name||(n=e,Q++,B&&(N("viewDestroy",B,B,B.element),z(),B.triggerEventDestroy(),R(),B.element.remove(),L.deactivateButton(B.name)),L.activateButton(n),B=new nt[n](t("<div class='fc-view fc-view-"+n+"' />").appendTo(P),H),f(),F(),Q--)}function f(t){B.start&&!t&&q.isWithin(B.intervalStart,B.intervalEnd)||c()&&h(t)}function h(t){Q++,B.start&&(N("viewDestroy",B,B,B.element),z(),k()),R(),t&&(q=B.incrementDate(q,t)),B.render(q.clone()),w(),F(),(B.afterRender||function(){})(),L.updateTitle(B.title),H.getNow().isWithin(B.intervalStart,B.intervalEnd)?L.disableButton("today"):L.enableButton("today"),N("viewRender",B,B,B.element),Q--,!O.lazyFetching||V(B.start,B.end)?x():S()}function p(){c()&&(z(),k(),y(),w(),S())}function y(){I=O.contentHeight?O.contentHeight:O.height?O.height-(Z?Z.height():0)-v(P):Math.round(P.width()/Math.max(O.aspectRatio,.5))}function w(){void 0===I&&y(),Q++,B.setHeight(I),B.setWidth(P.width()),Q--,j=n.outerWidth()}function D(){if(!Q)if(B.start){var t=++G;setTimeout(function(){t==G&&!Q&&c()&&j!=(j=n.outerWidth())&&(Q++,p(),B.trigger("windowResize",U),Q--)},200)}else o()}function E(t){k(),S(t)}function S(t){c()&&(B.renderEvents(ot,t),B.trigger("eventAfterAllRender"))}function k(){B.triggerEventDestroy(),B.clearEvents(),B.clearEventData()}function x(){X(B.start,B.end)}function z(){B&&B.unselect()}function R(){P.css({width:"100%",height:P.height(),overflow:"hidden"})}function F(){P.css({width:"",height:"",overflow:""})}function N(t,e){return O[t]?O[t].apply(e||U,Array.prototype.slice.call(arguments,2)):void 0}var Y,H=this,O=r({},J,a=a||{});(Y=O.lang in K?K[O.lang]:K[J.lang])&&(O=r({},J,Y,a)),O.isRTL&&(O=r({},J,tt,Y||{},a)),H.options=O,H.render=function(e){P?c()&&(y(),h(e)):(O.theme?"ui":"fc",n.addClass("fc"),O.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),O.theme&&n.addClass("ui-widget"),P=t("<div class='fc-content' />").prependTo(n),L=new function(e,n){function r(r){var a=t("<td class='fc-header-"+r+"'/>"),i=n.header[r];return i&&t.each(i.split(" "),function(r){var i;r>0&&a.append("<span class='fc-header-space'/>"),t.each(this.split(","),function(r,s){var l;if("title"==s)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),i&&i.addClass(o+"-corner-right"),i=null;else if(e[s]?l=e[s]:nt[s]&&(l=function(){v.removeClass(o+"-state-hover"),e.changeView(s)}),l){var c,d=g(n.themeButtonIcons,s),u=g(n.buttonIcons,s),f=g(n.buttonText,s);c=d&&n.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":u&&!n.theme?"<span class='fc-icon fc-icon-"+u+"'></span>":m(f||s);var v=t("<span class='fc-button fc-button-"+s+" "+o+"-state-default'>"+c+"</span>").click(function(){v.hasClass(o+"-state-disabled")||l()}).mousedown(function(){v.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){v.removeClass(o+"-state-down")}).hover(function(){v.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){v.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(a);b(v),i||v.addClass(o+"-corner-left"),i=v}}),i&&i.addClass(o+"-corner-right")}),a}var a=this;a.render=function(){return o=n.theme?"ui":"fc",n.header?i=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(r("left")).append(r("center")).append(r("right"))):void 0},a.destroy=function(){i.remove()},a.updateTitle=function(t){i.find("h2").html(t)},a.activateButton=function(t){i.find("span.fc-button-"+t).addClass(o+"-state-active")},a.deactivateButton=function(t){i.find("span.fc-button-"+t).removeClass(o+"-state-active")},a.disableButton=function(t){i.find("span.fc-button-"+t).addClass(o+"-state-disabled")},a.enableButton=function(t){i.find("span.fc-button-"+t).removeClass(o+"-state-disabled")};var o,i=t([])}(H,O),(Z=L.render())&&n.prepend(Z),u(O.defaultView),O.handleWindowResize&&t(window).resize(D),d()||o())},H.destroy=function(){B&&(N("viewDestroy",B,B,B.element),B.triggerEventDestroy()),t(window).unbind("resize",D),L.destroy(),P.remove(),n.removeClass("fc fc-rtl ui-widget")},H.refetchEvents=function(){k(),x()},H.reportEvents=function(t){ot=t,S()},H.reportEventChange=function(t){E(t)},H.rerenderEvents=E,H.changeView=u,H.select=function(t,e){B.select(t,e)},H.unselect=z,H.prev=function(){f(-1)},H.next=function(){f(1)},H.prevYear=function(){q.add("years",-1),f()},H.nextYear=function(){q.add("years",1),f()},H.today=function(){q=H.getNow(),f()},H.gotoDate=function(t){q=H.moment(t),f()},H.incrementDate=function(){q.add.apply(q,arguments),f()},H.getDate=function(){return q.clone()},H.getCalendar=function(){return H},H.getView=function(){return B},H.option=function(t,e){return void 0===e?O[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(O[t]=e,p()))},H.trigger=N;var A=s(e.langData(O.lang));if(O.monthNames&&(A._months=O.monthNames),O.monthNamesShort&&(A._monthsShort=O.monthNamesShort),O.dayNames&&(A._weekdays=O.dayNames),O.dayNamesShort&&(A._weekdaysShort=O.dayNamesShort),O.firstDay){var W=s(A._week);W.dow=O.firstDay,A._week=W}H.defaultAllDayEventDuration=e.duration(O.defaultAllDayEventDuration),H.defaultTimedEventDuration=e.duration(O.defaultTimedEventDuration),H.moment=function(){var t;return(t="local"===O.timezone?et.moment.apply(null,arguments):"UTC"===O.timezone?et.moment.utc.apply(null,arguments):et.moment.parseZone.apply(null,arguments))._lang=A,t},H.getIsAmbigTimezone=function(){return"local"!==O.timezone&&"UTC"!==O.timezone},H.rezoneDate=function(t){return H.moment(t.toArray())},H.getNow=function(){var t=O.now;return"function"==typeof t&&(t=t()),H.moment(t)},H.calculateWeekNumber=function(t){var e=O.weekNumberCalculation;return"function"==typeof e?e(t):"local"===e?t.week():"ISO"===e.toUpperCase()?t.isoWeek():void 0},H.getEventEnd=function(t){return t.end?t.end.clone():H.getDefaultEventEnd(t.allDay,t.start)},H.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(H.defaultAllDayEventDuration):n.add(H.defaultTimedEventDuration),H.getIsAmbigTimezone()&&n.stripZone(),n},H.formatRange=function(t,e,n){return"function"==typeof n&&(n=n.call(H,O,A)),_(t,e,n,null,O.isRTL)},H.formatDate=function(t,e){return"function"==typeof e&&(e=e.call(H,O,A)),M(t,e)},function(e){function n(n,r){!function n(r,a){var i,l,c=et.sourceFetchers;for(i=0;c.length>i;i++){if(!0===(l=c[i].call(v,r,h.clone(),p.clone(),e.timezone,a)))return;if("object"==typeof l)return void n(l,a)}var d=r.events;if(d)t.isFunction(d)?(o(),d.call(v,h.clone(),p.clone(),e.timezone,function(t){a(t),s()})):t.isArray(d)?a(d):a();else{var u=r.url;if(u){var f,g=r.success,m=r.error,y=r.complete;f=t.isFunction(r.data)?r.data():r.data;var b=t.extend({},f||{}),w=C(r.startParam,e.startParam),D=C(r.endParam,e.endParam),E=C(r.timezoneParam,e.timezoneParam);w&&(b[w]=h.format()),D&&(b[D]=p.format()),e.timezone&&"local"!=e.timezone&&(b[E]=e.timezone),o(),t.ajax(t.extend({},rt,r,{data:b,success:function(e){e=e||[];var n=T(g,this,arguments);t.isArray(n)&&(e=n),a(e)},error:function(){T(m,this,arguments),a()},complete:function(){T(y,this,arguments),s()}}))}else a()}}(n,function(t){if(r==E){if(t)for(var e=0;t.length>e;e++){var a=c(t[e],n);a&&x.push(a)}--S||y(x)}})}function r(e){return t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e?(function(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=et.sourceNormalizers,n=0;e.length>n;n++)e[n].call(v,t)}(e),D.push(e),e):void 0}function a(e){return t.isFunction(e)?t.grep(x,e):e?(e+="",t.grep(x,function(t){return t._id==e})):x}function o(){k++||g("loading",null,!0,m())}function s(){--k||g("loading",null,!1,m())}function c(n,r){var a,o,s,l,c={};return e.eventDataTransform&&(n=e.eventDataTransform(n)),r&&r.eventDataTransform&&(n=r.eventDataTransform(n)),(a=v.moment(n.start||n.date)).isValid()&&(o=null,!n.end||(o=v.moment(n.end)).isValid())?(void 0===(s=n.allDay)&&(l=C(r?r.allDayDefault:void 0,e.allDayDefault),s=void 0!==l?l:!(a.hasTime()||o&&o.hasTime())),s?(a.hasTime()&&a.stripTime(),o&&o.hasTime()&&o.stripTime()):(a.hasTime()||(a=v.rezoneDate(a)),o&&!o.hasTime()&&(o=v.rezoneDate(o))),t.extend(c,n),r&&(c.source=r),c._id=n._id||(void 0===n.id?"_fc"+at++:n.id+""),c.className=n.className?"string"==typeof n.className?n.className.split(/\s+/):n.className:[],c.allDay=s,c.start=a,c.end=o,e.forceEventDuration&&!c.end&&(c.end=b(c)),i(c),c):void 0}function d(n,r,o){var s,c,d,u,f,h,p,g,m,y,b=n._allDay,w=n._start,D=n._end,T=!1;return r||o||(r=n.start,o=n.end),(s=n.allDay!=b?n.allDay:!(r||o).hasTime())&&(r&&(r=r.clone().stripTime()),o&&(o=o.clone().stripTime())),r&&(c=l(r,s?w.clone().stripTime():w)),s!=b?T=!0:o&&(d=l(o||v.getDefaultEventEnd(s,r||w),r||w).subtract(l(D||v.getDefaultEventEnd(b,w),w))),u=a(n._id),f=T,h=s,p=c,g=d,m=v.getIsAmbigTimezone(),y=[],t.each(u,function(t,n){var r=n._allDay,a=n._start,o=n._end,s=null!=h?h:r,l=a.clone(),c=!f&&o?o.clone():null;s?(l.stripTime(),c&&c.stripTime()):(l.hasTime()||(l=v.rezoneDate(l)),c&&!c.hasTime()&&(c=v.rezoneDate(c))),c||!e.forceEventDuration&&!+g||(c=v.getDefaultEventEnd(s,l)),l.add(p),c&&c.add(p).add(g),m&&(+p&&l.stripZone(),c&&(+p||+g)&&c.stripZone()),n.allDay=s,n.start=l,n.end=c,i(n),y.push(function(){n.allDay=r,n.start=a,n.end=o,i(n)})}),function(){for(var t=0;y.length>t;t++)y[t]()}}function u(t,e){return t&&e&&f(t)==f(e)}function f(t){return("object"==typeof t?t.events||t.url:"")||t}var v=this;v.isFetchNeeded=function(t,e){return!h||t.clone().stripZone()<h.clone().stripZone()||e.clone().stripZone()>p.clone().stripZone()},v.fetchEvents=function(t,e){h=t,p=e,x=[];var r=++E,a=D.length;S=a;for(var o=0;a>o;o++)n(D[o],r)},v.addEventSource=function(t){(t=r(t))&&(S++,n(t,E))},v.removeEventSource=function(e){D=t.grep(D,function(t){return!u(t,e)}),x=t.grep(x,function(t){return!u(t.source,e)}),y(x)},v.updateEvent=function(t){d(t),function(t){var e,n,r,a;for(e=0;x.length>e;e++)if(n=x[e],n._id==t._id&&n!==t)for(r=0;R.length>r;r++)a=R[r],void 0!==t[a]&&(n[a]=t[a])}(t),y(x)},v.renderEvent=function(t,e){var n=c(t);n&&(n.source||(e&&(w.events.push(n),n.source=w),x.push(n)),y(x))},v.removeEvents=function(e){var n;if(e){if(!t.isFunction(e)){var r=e+"";e=function(t){return t._id==r}}for(x=t.grep(x,e,!0),n=0;D.length>n;n++)t.isArray(D[n].events)&&(D[n].events=t.grep(D[n].events,e,!0))}else for(x=[],n=0;D.length>n;n++)t.isArray(D[n].events)&&(D[n].events=[]);y(x)},v.clientEvents=a,v.mutateEvent=d;var h,p,g=v.trigger,m=v.getView,y=v.reportEvents,b=v.getEventEnd,w={events:[]},D=[w],E=0,S=0,k=0,x=[],M=e.eventSources||[];e.events&&M.push(e.events);for(var z=0;M.length>z;z++)r(M[z]);var R=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}.call(H,O);var L,Z,P,B,j,I,q,$,V=H.isFetchNeeded,X=H.fetchEvents,U=n[0],G=0,Q=0,ot=[];q=null!=O.defaultDate?H.moment(O.defaultDate):H.getNow(),O.droppable&&t(document).bind("dragstart",function(e,n){var r=e.target,a=t(r);if(!a.parents(".fc").length){var o=O.dropAccept;(t.isFunction(o)?o.call(r,a):a.is(o))&&($=r,B.dragStart($,e,n))}}).bind("dragstop",function(t,e){$&&(B.dragStop($,t,e),$=null)})}function i(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}function s(t){var e=function(){};return e.prototype=t,new e}function l(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function c(e,n,r){e.unbind("mouseover").mouseover(function(e){for(var a,o,i,s=e.target;s!=this;)a=s,s=s.parentNode;void 0!==(o=a._fci)&&(a._fci=void 0,i=n[o],r(i.event,i.element,i),t(e.target).trigger(e)),e.stopPropagation()})}function d(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.width(Math.max(0,n-f(a,r)))}function u(e,n,r){for(var a,o=0;e.length>o;o++)a=t(e[o]),a.height(Math.max(0,n-v(a,r)))}function f(e,n){return o=e,(parseFloat(t.css(o[0],"paddingLeft",!0))||0)+(parseFloat(t.css(o[0],"paddingRight",!0))||0)+(a=e,(parseFloat(t.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(a[0],"borderRightWidth",!0))||0))+(n?(r=e,(parseFloat(t.css(r[0],"marginLeft",!0))||0)+(parseFloat(t.css(r[0],"marginRight",!0))||0)):0);var r,a,o}function v(e,n){return o=e,(parseFloat(t.css(o[0],"paddingTop",!0))||0)+(parseFloat(t.css(o[0],"paddingBottom",!0))||0)+(a=e,(parseFloat(t.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(a[0],"borderBottomWidth",!0))||0))+(n?(r=e,(parseFloat(t.css(r[0],"marginTop",!0))||0)+(parseFloat(t.css(r[0],"marginBottom",!0))||0)):0);var r,a,o}function h(t,e){return t-e}function p(t){return Math.max.apply(Math,t)}function g(t,e){if(void 0!==t[e])return t[e];for(var n,r=e.split(/(?=[A-Z])/),a=r.length-1;a>=0;a--)if(n=t[r[a].toLowerCase()],void 0!==n)return n;return t.default}function m(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function y(t){return t.replace(/&.*?;/g,"")}function b(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function w(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function D(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function T(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;e.length>a;a++)o=e[a].apply(n,r)||o;return o}}function C(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function E(n,r,a){var o,i,s,l,c,d=n[0],u=1==n.length&&"string"==typeof d,f=!1,v=!1;return u?it.test(d)?(d+="-01",f=!0,v=!0):(o=st.exec(d))&&(f=!o[5],v=!0):t.isArray(d)&&(v=!0),i=r||a||f?e.utc.apply(e,n):e.apply(null,n),e.isMoment(d)&&(c=i,(l=d)._ambigTime?c._ambigTime=!0:c._ambigTime&&delete c._ambigTime,l._ambigZone?c._ambigZone=!0:c._ambigZone&&delete c._ambigZone),f&&(i._ambigTime=!0,i._ambigZone=!0),a&&(v?i._ambigZone=!0:u?i.zone(d):(s=d,("[object Date]"===Object.prototype.toString.call(s)||s instanceof Date||void 0===d)&&i.local())),new S(i)}function S(t){!function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(this,t)}function k(t){var e,n=[],r=!1,a=!1;for(e=0;t.length>e;e++)n.push(et.moment(t[e])),r=r||n[e]._ambigTime,a=a||n[e]._ambigZone;for(e=0;n.length>e;e++)r?n[e].stripTime():a&&n[e].stripZone();return n}function x(t,n){return e.fn.format.call(t,n)}function M(t,e){return z(t,N(e))}function z(t,e){var n,r="";for(n=0;e.length>n;n++)r+=R(t,e[n]);return r}function R(t,e){var n,r;return"string"==typeof e?e:(n=e.token)?lt[n]?lt[n](t):x(t,n):e.maybe&&(r=z(t,e.maybe)).match(/[1-9]/)?r:""}function _(t,e,n,r,a){return n=t.lang().longDateFormat(n)||n,r=r||" - ",function(t,e,n,r,a){var o,i,s,l,c="",d="",u="",f="",v="";for(i=0;n.length>i&&!1!==(o=F(t,e,n[i]));i++)c+=o;for(s=n.length-1;s>i&&!1!==(o=F(t,e,n[s]));s--)d=o+d;for(l=i;s>=l;l++)u+=R(t,n[l]),f+=R(e,n[l]);return(u||f)&&(v=a?f+r+u:u+r+f),c+v+d}(t,e,N(n),r,a)}function F(t,e,n){var r,a;return"string"==typeof n?n:!!((r=n.token)&&(a=ct[r.charAt(0)],a&&t.isSame(e,a)))&&x(t,r)}function N(t){return t in dt?dt[t]:dt[t]=function t(e){for(var n,r=[],a=/\[([^\]]*)\]|\(([^\)]*)\)|((\w)\4*o?T?)|([^\w\[\(]+)/g;n=a.exec(e);)n[1]?r.push(n[1]):n[2]?r.push({maybe:t(n[2])}):n[3]?r.push({token:n[3]}):n[5]&&r.push(n[5]);return r}(t)}function Y(e,n,r){function a(t){t.click(o).mousedown(P)}function o(e){if(!A("selectable")){var r=n.moment(t(this).data("date"));W("dayClick",this,r,e)}}function i(t,n,r){r&&R.build();for(var o=$(t,n),i=0;o.length>i;i++){var s=o[i];a((l=s.row,c=s.leftCol,d=s.row,u=s.rightCol,void 0,f=R.rect(l,c,d,u,e),L(f,e)))}var l,c,d,u,f}var s=this;s.renderBasic=function(r,o,i){var d;x=r,M=o,z=i,Y=A("theme")?"ui":"fc",H=A("columnFormat"),O=A("weekNumbers"),f||(T=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)),d="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+function(){var t,e,n=Y+"-widget-header",r="";for(r+="<thead><tr>",O&&(r+="<th class='fc-week-number "+n+"'>"+m(A("weekNumberTitle"))+"</th>"),t=0;M>t;t++)e=I(0,t),r+="<th class='fc-day-header fc-"+ot[e.day()]+" "+n+"'>"+m(J(e,H))+"</th>";return r+="</tr></thead>"}()+function(){var t,e,r,a,o,i,l,c,d,u=Y+"-widget-content",f="";for(f+="<tbody>",t=0;x>t;t++){for(f+="<tr class='fc-week'>",O&&(r=I(t,0),f+="<td class='fc-week-number "+u+"'><div>"+m(K(r))+"</div></td>"),e=0;M>e;e++)r=I(t,e),f+=(a=r,l=void 0,d=void 0,o=s.intervalStart.month(),i=n.getNow().stripTime(),l="",c=Y+"-widget-content",d=["fc-day","fc-"+ot[a.day()],c],a.month()!=o&&d.push("fc-other-month"),a.isSame(i,"day")?d.push("fc-today",Y+"-state-highlight"):i>a?d.push("fc-past"):d.push("fc-future"),l+="<td class='"+d.join(" ")+"' data-date='"+a.format()+"'><div>",z&&(l+="<div class='fc-day-number'>"+a.date()+"</div>"),l+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>");f+="</tr>"}return f+="</tbody>"}()+"</table>",l&&l.remove(),l=t(d).appendTo(e),c=l.find("thead"),u=c.find(".fc-day-header"),f=l.find("tbody"),h=f.find("tr"),p=f.find(".fc-day"),g=h.find("td:first-child"),y=h.eq(0).find(".fc-day > div"),D=h.eq(0).find(".fc-day-content > div"),w(c.add(c.find("tr"))),w(h),h.eq(0).addClass("fc-first"),h.filter(":last").addClass("fc-last"),p.each(function(e,n){var r=I(Math.floor(e/M),e%M);W("dayRender",s,r,t(n))}),a(p)},s.setHeight=function(e){E=e;var n,r,a,o=Math.max(E-c.height(),0);"variable"==A("weekMode")?n=r=Math.floor(o/(1==x?2:6)):(n=Math.floor(o/x),r=o-n*(x-1)),g.each(function(e,o){x>e&&(a=t(o)).find("> div").css("min-height",(e==x-1?r:n)-v(a))})},s.setWidth=function(t){C=t,F.clear(),N.clear(),k=0,O&&(k=c.find("th.fc-week-number").outerWidth()),S=Math.floor((C-k)/M),d(u.slice(0,-1),S)},s.renderDayOverlay=i,s.defaultSelectionEnd=function(t){return t.clone().stripTime().add("days",1)},s.renderSelection=function(t,e){i(t,e,!0)},s.clearSelection=function(){Z()},s.reportDayClick=function(t,e){var n=q(t),r=p[n.row*M+n.col];W("dayClick",r,t,e)},s.dragStart=function(t,e){_.start(function(t){if(Z(),t){var e=I(t);i(e,e.clone().add(n.defaultAllDayEventDuration))}},e)},s.dragStop=function(t,e,n){var r=_.stop();Z(),r&&W("drop",t,I(r),e,n)},s.getHoverListener=function(){return _},s.colLeft=function(t){return F.left(t)},s.colRight=function(t){return F.right(t)},s.colContentLeft=function(t){return N.left(t)},s.colContentRight=function(t){return N.right(t)},s.getIsCellAllDay=function(){return!0},s.allDayRow=function(t){return h.eq(t)},s.getRowCnt=function(){return x},s.getColCnt=function(){return M},s.getColWidth=function(){return S},s.getDaySegmentContainer=function(){return T},B.call(s,e,n,r),X.call(s),V.call(s),function(){var t=this;t.renderEvents=function(e,n){t.renderDayEvents(e,n)},t.clearEvents=function(){t.getDaySegmentContainer().empty()},j.call(t)}.call(s);var l,c,u,f,h,p,g,y,D,T,C,E,S,k,x,M,z,R,_,F,N,Y,H,O,A=s.opt,W=s.trigger,L=s.renderOverlay,Z=s.clearOverlays,P=s.daySelectionMousedown,I=s.cellToDate,q=s.dateToCell,$=s.rangeToSegments,J=n.formatDate,K=n.calculateWeekNumber;b(e.addClass("fc-grid")),R=new U(function(e,n){var r,a,o;u.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),h.each(function(n,i){x>n&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),_=new G(R),F=new Q(function(t){return y.eq(t)}),N=new Q(function(t){return D.eq(t)})}function H(n,r,a){function o(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+function(){var t,e,n,r=bt+"-widget-header",a="";for(a+="<thead><tr>",Et("weekNumbers")?(t=Ft(0,0),e=Ot(t),wt?e+=Et("weekNumberTitle"):e=Et("weekNumberTitle")+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+m(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;vt>n;n++)t=Ft(0,n),a+="<th class='fc-"+ot[t.day()]+" fc-col"+n+" "+r+"'>"+m(Ht(t,Ct))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th></tr></thead>"}()+function(){var t,e,n,a,o,i=bt+"-widget-header",s=bt+"-widget-content",l=r.getNow().stripTime(),c="";for(c+="<tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>",n="",e=0;vt>e;e++)t=Ft(0,e),o=["fc-col"+e,"fc-"+ot[t.day()],s],t.isSame(l,"day")?o.push(bt+"-state-highlight","fc-today"):l>t?o.push("fc-past"):o.push("fc-future"),a="<td class='"+o.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",n+=a;return c+=n,c+="<td class='fc-agenda-gutter "+s+"'>&nbsp;</td></tr></tbody>"}()+"</table>";R&&R.remove(),R=t(e).appendTo(n),_=R.find("thead"),F=_.find("th").slice(1,-1),N=R.find("tbody"),Y=N.find("td").slice(0,-1),H=Y.find("> div"),A=Y.find(".fc-day-content > div"),W=Y.eq(0),L=H.eq(0),w(_.add(_.find("tr"))),w(N.add(N.find("tr")))}function i(t){t.click(l).mousedown(Rt)}function s(t){t.click(l).mousedown(x)}function l(t){if(!Et("selectable")){var e=Math.min(vt-1,Math.floor((t.pageX-R.offset().left-at)/it)),n=Ft(0,e),a=this.parentNode.className.match(/fc-slot(\d+)/);if(a){var o=parseInt(a[1]);n.add(Dt+o*lt),n=r.rezoneDate(n),St("dayClick",Y[e],n,t)}else St("dayClick",Y[e],n,t)}}function p(t,e,n){n&&pt.build();for(var r=Yt(t,e),a=0;r.length>a;a++){var o=r[a];i((s=o.row,l=o.leftCol,c=o.row,d=o.rightCol,void 0,u=pt.rect(s,l,c,d,Z),kt(u,Z)))}var s,l,c,d,u}function g(t,e){t=t.clone().stripZone(),e=e.clone().stripZone();for(var n=0;vt>n;n++){var r=Ft(0,n),a=r.clone().add("days",1),o=t>r?t:r,i=e>a?a:e;if(i>o){var l=pt.rect(0,n,0,n,K),c=C(o,r),d=C(i,r);l.top=c,l.height=d-c,s(kt(l,K))}}}function y(t){return Et("allDaySlot")&&!t.row}function T(t){var n=Ft(0,t.col),a=t.row;return Et("allDaySlot")&&a--,a>=0&&(n.time(e.duration(Dt+a*lt)),n=r.rezoneDate(n)),n}function C(t,n){return E(e.duration(t.clone().stripZone()-n.clone().stripTime()))}function E(t){if(Dt>t)return 0;if(t>=Tt)return et.height();var e=(t-Dt)/lt,n=Math.floor(e),r=e-n,a=At[n];void 0===a&&(a=At[n]=et.find("tr").eq(n).find("td div")[0].offsetTop);var o=a-1+r*ct;return Math.max(o,0)}function S(e,n){var r=Et("selectHelper");if(pt.build(),r){var a=Nt(e).col;if(a>=0&&vt>a){var o=pt.rect(0,a,0,a,K),i=C(e,e),l=C(n,e);if(l>i){if(o.top=i,o.height=l-i,o.left+=2,o.width-=5,t.isFunction(r)){var c=r(e,n);c&&(o.position="absolute",nt=t(c).css(o).appendTo(K))}else o.isStart=!0,o.isEnd=!0,nt=t(_t({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o)),nt.css("opacity",Et("dragOpacity"));nt&&(s(nt),K.append(nt),d(nt,o.width,!0),u(nt,o.height,!0))}}}else g(e,n)}function k(){xt(),nt&&(nt.remove(),nt=null)}function x(e){var n;1==e.which&&Et("selectable")&&(zt(e),gt.start(function(t,e){if(k(),t&&t.col==e.col&&!y(t)){var r=T(e),a=T(t);S((n=[r,r.clone().add(dt),a,a.clone().add(dt)].sort(h))[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){gt.stop(),n&&(+n[0]==+n[1]&&M(n[0],t),Mt(n[0],n[3],t))}))}function M(t,e){St("dayClick",Y[Nt(t).col],t,e)}var z=this;z.renderAgenda=function(r){vt=r,bt=Et("theme")?"ui":"fc",wt=Et("isRTL"),Ct=Et("columnFormat"),Dt=e.duration(Et("minTime")),Tt=e.duration(Et("maxTime")),lt=e.duration(Et("slotDuration")),dt=(dt=Et("snapDuration"))?e.duration(dt):lt,R?o():function(){var r,a,l,c,d=bt+"-widget-header",u=bt+"-widget-content",f=0==lt.asMinutes()%15;for(o(),Z=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Et("allDaySlot")?(I=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Z),r="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+d+" fc-agenda-axis'>"+(Et("allDayHTML")||m(Et("allDayText")))+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+d+" fc-agenda-gutter'>&nbsp;</th></tr></table>",q=t(r).appendTo(Z),i(($=q.find("tr")).find("td")),Z.append("<div class='fc-agenda-divider "+d+"'><div class='fc-agenda-divider-inner'/></div>")):I=t([]),J=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Z),K=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(J),tt=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(K),r="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",a=e.duration(+Dt),ht=0;Tt>a;)l=z.start.clone().time(a),c=l.minutes(),r+="<tr class='fc-slot"+ht+" "+(c?"fc-minor":"")+"'><th class='fc-agenda-axis "+d+"'>"+(f&&c?"&nbsp;":m(Ht(l,Et("axisFormat"))))+"</th><td class='"+u+"'><div style='position:relative'>&nbsp;</div></td></tr>",a.add(lt),ht++;s((et=t(r+="</tbody></table>").appendTo(K)).find("td"))}()},z.setWidth=function(e){e,mt.clear(),yt.clear();var n=_.find("th:first");q&&(n=n.add(q.find("th:first"))),n=n.add(et.find("th:first")),at=0,d(n.width("").each(function(e,n){at=Math.max(at,t(n).outerWidth())}),at);var r=R.find(".fc-agenda-gutter");q&&(r=r.add(q.find("th.fc-agenda-gutter")));var a=J[0].clientWidth;(st=J.width()-a)?(d(r,st),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),it=Math.floor((a-at)/vt),d(F.slice(0,-1),it)},z.setHeight=function(t){void 0===t&&(t=rt),rt=t,At={};var e=N.position().top,n=J.position().top,r=Math.min(t-e,et.height()+n+1);L.height(r-v(W)),Z.css("top",e),J.height(r-n-1);var a=et.find("tr:first").height()+1,o=et.find("tr:eq(1)").height();ft=(ct=(a+o)/2)/(ut=lt/dt)},z.afterRender=function(){!function(){function t(){J.scrollTop(n)}var n=E(e.duration(Et("scrollTime")))+1;t(),setTimeout(t,0)}()},z.computeDateTop=C,z.getIsCellAllDay=y,z.allDayRow=function(){return $},z.getCoordinateGrid=function(){return pt},z.getHoverListener=function(){return gt},z.colLeft=function(t){return mt.left(t)},z.colRight=function(t){return mt.right(t)},z.colContentLeft=function(t){return yt.left(t)},z.colContentRight=function(t){return yt.right(t)},z.getDaySegmentContainer=function(){return I},z.getSlotSegmentContainer=function(){return tt},z.getSlotContainer=function(){return K},z.getRowCnt=function(){return 1},z.getColCnt=function(){return vt},z.getColWidth=function(){return it},z.getSnapHeight=function(){return ft},z.getSnapDuration=function(){return dt},z.getSlotHeight=function(){return ct},z.getSlotDuration=function(){return lt},z.getMinTime=function(){return Dt},z.getMaxTime=function(){return Tt},z.defaultSelectionEnd=function(t){return t.hasTime()?t.clone().add(lt):t.clone().add("days",1)},z.renderDayOverlay=p,z.renderSelection=function(t,e){t.hasTime()||e.hasTime()?S(t,e):Et("allDaySlot")&&p(t,e,!0)},z.clearSelection=k,z.reportDayClick=M,z.dragStart=function(t,e){gt.start(function(t){if(xt(),t){var e=T(t),n=e.clone();e.hasTime()?(n.add(r.defaultTimedEventDuration),g(e,n)):(n.add(r.defaultAllDayEventDuration),p(e,n))}},e)},z.dragStop=function(t,e,n){var r=gt.stop();xt(),r&&St("drop",t,T(r),e,n)},B.call(z,n,r,a),X.call(z),V.call(z),function(){function n(t,e,n){e=e.clone().stripZone(),n=n.clone().stripZone();var r,a,o,i,s,l,c,d,u=[],f=t.length;for(r=0;f>r;r++)a=t[r],o=a.start.clone().stripZone(),i=U(a).stripZone(),i>e&&n>o&&(e>o?(s=e.clone(),c=!1):(s=o,c=!0),i>n?(l=n.clone(),d=!1):(l=i,d=!0),u.push({event:a,start:s,end:l,isStart:c,isEnd:d}));return u.sort(P)}function r(t,e){var n="<",r=t.url,a=D(t,i),o=["fc-event","fc-event-vert"];return l(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=r?"a href='"+m(t.url)+"'":"div",n+=" class='"+o.join(" ")+"' style='position:absolute;top:"+e.top+"px;left:"+e.left+"px;"+a+"'><div class='fc-event-inner'><div class='fc-event-time'>",n+=t.end?m(X(t.start,t.end,i("timeFormat"))):m(V(t.start,i("timeFormat"))),n+="</div><div class='fc-event-title'>"+m(t.title||"")+"</div></div><div class='fc-event-bg'></div>",e.isEnd&&d(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function a(t,e,n){var r,a,c,u,f,v,p,g,m=e.find("div.fc-event-time");l(t)&&function(t,e,n){function r(){var r;Z(),c&&(u?(n.hide(),e.draggable("option","grid",null),L(y,b)):(y&&(r=t.end?X(y,b,i("timeFormat")):V(y,i("timeFormat")),n.text(r)),n.css("display",""),e.draggable("option","grid",[C,E])))}var a,l,c,d,u,f,v,h,p,g,m,y,b,w=o.getCoordinateGrid(),D=k(),C=x(),E=M(),R=z();e.draggable({scroll:!1,grid:[C,E],axis:1==D&&"y",opacity:i("dragOpacity"),revertDuration:i("dragRevertDuration"),start:function(n,r){s("eventDragStart",e,t,n,r),H(t,e),w.build(),a=e.position(),l=w.cell(n.pageX,n.pageY),c=d=!0,u=f=T(l),v=h=0,p=0,g=m=0,y=null,b=null},drag:function(n,o){var i=w.cell(n.pageX,n.pageY);if(c=!!i){if(u=T(i),(v=Math.round((o.position.left-a.left)/C))!=h){var s=S(0,l.col),k=l.col+v;k=Math.max(0,k),k=Math.min(D-1,k);var x=S(0,k);p=x.diff(s,"days")}u||(g=Math.round((o.position.top-a.top)/E))}(c!=d||u!=f||v!=h||g!=m)&&(u?(y=t.start.clone().stripTime().add("days",p),b=y.clone().add($.defaultAllDayEventDuration)):(y=t.start.clone().add(g*R).add("days",p),b=U(t).add(g*R).add("days",p)),r(),d=c,f=u,h=v,m=g),e.draggable("option","revert",!c)},stop:function(n,o){Z(),s("eventDragStop",e,t,n,o),c&&(u||p||g)?A(this,t,y,n,o):(c=!0,u=!1,v=0,p=0,g=0,r(),e.css("filter",""),e.css(a),Y(t,e))}})}(t,e,m),n.isEnd&&d(t)&&(r=t,a=e,c=m,p=M(),g=z(),a.resizable({handles:{s:".ui-resizable-handle"},grid:p,start:function(t,e){u=f=0,H(r,a),s("eventResizeStart",this,r,t,e)},resize:function(t,e){var n;(u=Math.round((Math.max(p,a.height())-e.originalSize.height)/p))!=f&&(v=U(r).add(g*u),n=u||r.end?X(r.start,v,i("timeFormat")):V(r.start,i("timeFormat")),c.text(n),f=u)},stop:function(t,e){s("eventResizeStop",this,r,t,e),u?W(this,r,v,t,e):Y(r,a)}})),h(t,e)}var o=this;o.renderEvents=function(e,o){var l,d=e.length,u=[],h=[];for(l=0;d>l;l++)e[l].allDay?u.push(e[l]):h.push(e[l]);i("allDaySlot")&&(B(u,o),p()),function(e,n){var o,l,d,u,h,p,g,m,b,D,T,S,k,x,M,z,R=e.length,_="",F=y(),Y=i("isRTL");for(o=0;R>o;o++)l=e[o],d=l.event,u=w(l.start,l.start),h=w(l.end,l.start),p=C(l.col),g=E(l.col),m=g-p,g-=.025*m,m=g-p,b=m*(l.forwardCoord-l.backwardCoord),i("slotEventOverlap")&&(b=Math.max(2*(b-10),b)),Y?(T=g-l.backwardCoord*m,D=T-b):(D=p+l.backwardCoord*m,T=D+b),D=Math.max(D,p),T=Math.min(T,g),b=T-D,l.top=u,l.left=D,l.outerWidth=b,l.outerHeight=h-u,_+=r(d,l);for(F[0].innerHTML=_,S=F.children(),o=0;R>o;o++)l=e[o],d=l.event,k=t(S[o]),x=s("eventRender",d,d,k),!1===x?k.remove():(x&&!0!==x&&(k.remove(),k=t(x).css({position:"absolute",top:l.top,left:l.left}).appendTo(F)),l.element=k,d._id===n?a(d,k,l):k[0]._fci=o,N(d,k));for(c(F,e,a),o=0;R>o;o++)l=e[o],(k=l.element)&&(l.vsides=v(k,!0),l.hsides=f(k,!0),M=k.find(".fc-event-title"),M.length&&(l.contentTop=M[0].offsetTop));for(o=0;R>o;o++)l=e[o],(k=l.element)&&(k[0].style.width=Math.max(0,l.outerWidth-l.hsides)+"px",z=Math.max(0,l.outerHeight-l.vsides),k[0].style.height=z+"px",d=l.event,void 0!==l.contentTop&&10>z-l.contentTop&&(k.find("div.fc-event-time").text(V(d.start,i("timeFormat"))+" - "+d.title),k.find("div.fc-event-title").remove()),s("eventAfterRender",d,d,k))}(function(t){var e,r,a,o,i,s=k(),l=I(),c=q(),d=[];for(r=0;s>r;r++)for(e=S(0,r),i=n(t,e.clone().time(l),e.clone().time(c)),i=O(i),a=0;i.length>a;a++)o=i[a],o.col=r,d.push(o);return d}(h),o)},o.clearEvents=function(){g().empty(),y().empty()},o.slotSegHtml=r,j.call(o);var i=o.opt,s=o.trigger,l=o.isEventDraggable,d=o.isEventResizable,h=o.eventElementHandlers,p=o.setHeight,g=o.getDaySegmentContainer,y=o.getSlotSegmentContainer,b=o.getHoverListener,w=o.computeDateTop,T=o.getIsCellAllDay,C=o.colContentLeft,E=o.colContentRight,S=o.cellToDate,k=o.getColCnt,x=o.getColWidth,M=o.getSnapHeight,z=o.getSnapDuration,R=o.getSlotHeight,_=o.getSlotDuration,F=o.getSlotContainer,N=o.reportEventElement,Y=o.showEvents,H=o.hideEvents,A=o.eventDrop,W=o.eventResize,L=o.renderDayOverlay,Z=o.clearOverlays,B=o.renderDayEvents,I=o.getMinTime,q=o.getMaxTime,$=o.calendar,V=$.formatDate,X=$.formatRange,U=$.getEventEnd;o.draggableDayEvent=function(t,n,r){function a(){f||(n.width(o).height("").draggable("option","grid",null),f=!0)}var o,l,c,d=r.isStart,f=!0,v=b(),h=x(),p=I(),g=_(),m=R(),y=z(),w=M();n.draggable({opacity:i("dragOpacity","month"),revertDuration:i("dragRevertDuration"),start:function(e,r){s("eventDragStart",n,t,e,r),H(t,n),o=n.width(),v.start(function(e,r){if(Z(),e){l=!1;var o=S(0,r.col),i=S(0,e.col);c=i.diff(o,"days"),e.row?d?f&&(n.width(h-10),u(n,$.defaultTimedEventDuration/g*m),n.draggable("option","grid",[h,1]),f=!1):l=!0:(L(t.start.clone().add("days",c),U(t).add("days",c)),a()),l=l||f&&!c}else a(),l=!0;n.draggable("option","revert",l)},e,"drag")},stop:function(r,o){if(v.stop(),Z(),s("eventDragStop",n,t,r,o),l)a(),n.css("filter",""),Y(t,n);else{var i,d,u=t.start.clone().add("days",c);f||(d=Math.round((n.offset().top-F().offset().top)/w),i=e.duration(p+d*y),u=$.rezoneDate(u.clone().time(i))),A(this,t,u,r,o)}}})}}.call(z);var R,_,F,N,Y,H,A,W,L,Z,I,q,$,J,K,tt,et,nt,rt,at,it,st,lt,ct,dt,ut,ft,vt,ht,pt,gt,mt,yt,bt,wt,Dt,Tt,Ct,Et=z.opt,St=z.trigger,kt=z.renderOverlay,xt=z.clearOverlays,Mt=z.reportSelection,zt=z.unselect,Rt=z.daySelectionMousedown,_t=z.slotSegHtml,Ft=z.cellToDate,Nt=z.dateToCell,Yt=z.rangeToSegments,Ht=r.formatDate,Ot=r.calculateWeekNumber,At={};b(n.addClass("fc-agenda")),pt=new U(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,o,i;F.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),Et("allDaySlot")&&(o=(a=$).offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=K.offset().top,l=J.offset().top,c=l+J.outerHeight(),d=0;ht*ut>d;d++)e.push([r(s+ft*d),r(s+ft*(d+1))])}),gt=new G(pt),mt=new Q(function(t){return H.eq(t)}),yt=new Q(function(t){return A.eq(t)})}function O(t){var e,n=function(t){var e,n,r,a=[];for(e=0;t.length>e;e++){for(n=t[e],r=0;a.length>r&&L(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}(t),r=n[0];if(function(t){var e,n,r,a,o;for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)for(a=n[r],a.forwardSegs=[],o=e+1;t.length>o;o++)L(a,t[o],a.forwardSegs)}(n),r){for(e=0;r.length>e;e++)A(r[e]);for(e=0;r.length>e;e++)W(r[e],0,0)}return function(t){var e,n,r,a=[];for(e=0;t.length>e;e++)for(n=t[e],r=0;n.length>r;r++)a.push(n[r]);return a}(n)}function A(t){var e,n,r=t.forwardSegs,a=0;if(void 0===t.forwardPressure){for(e=0;r.length>e;e++)n=r[e],A(n),a=Math.max(a,1+n.forwardPressure);t.forwardPressure=a}}function W(t,e,n){var r,a=t.forwardSegs;if(void 0===t.forwardCoord)for(a.length?(a.sort(Z),W(a[0],e+1,n),t.forwardCoord=a[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),r=0;a.length>r;r++)W(a[r],0,t.forwardCoord)}function L(t,e,n){n=n||[];for(var r=0;e.length>r;r++)a=t,o=e[r],a.end>o.start&&a.start<o.end&&n.push(e[r]);var a,o;return n}function Z(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||P(t,e)}function P(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function B(n,r,o){function i(e,n){var r=w[e];return t.isPlainObject(r)&&!a(e)?g(r,n||o):r}function s(t,e){return r.trigger.apply(r,[t,e||p].concat(Array.prototype.slice.call(arguments,2),[p]))}function l(t,e,n){var r,a=y[t._id],o=a.length;for(r=0;o>r;r++)e&&a[r][0]==e[0]||a[r][n]()}function c(t,e){var n=p.getColCnt(),r=M?-1:1,a=M?n-1:0;return"object"==typeof t&&(e=t.col,t=t.row),t*n+(e*r+a)}function d(t){var e=p.start.day();return t+=k[e],7*Math.floor(t/T)+x[(t%T+T)%T]-e}function u(t){return p.start.clone().add("days",t)}function f(t){return t.clone().stripTime().diff(p.start,"days")}function v(t){var e=p.start.day();return t+=e,Math.floor(t/7)*T+k[(t%7+7)%7]-k[e]}function h(t){var e=p.getColCnt(),n=M?-1:1,r=M?e-1:0;return{row:Math.floor(t/e),col:(t%e+e)%e*n+r}}var p=this;p.element=n,p.calendar=r,p.name=o,p.opt=i,p.trigger=s,p.isEventDraggable=function(t){var e=t.source||{};return C(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))},p.isEventResizable=function(t){var e=t.source||{};return C(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))},p.clearEventData=function(){y={},b=[]},p.reportEventElement=function(t,e){b.push({event:t,element:e}),y[t._id]?y[t._id].push(e):y[t._id]=[e]},p.triggerEventDestroy=function(){t.each(b,function(t,e){p.trigger("eventDestroy",e.event,e.event,e.element)})},p.eventElementHandlers=function(t,e){e.click(function(n){return e.hasClass("ui-draggable-dragging")||e.hasClass("ui-resizable-resizing")?void 0:s("eventClick",this,t,n)}).hover(function(e){s("eventMouseover",this,t,e)},function(e){s("eventMouseout",this,t,e)})},p.showEvents=function(t,e){l(t,e,"show")},p.hideEvents=function(t,e){l(t,e,"hide")},p.eventDrop=function(t,e,n,a,o){var i=r.mutateEvent(e,n,null);s("eventDrop",t,e,function(){i(),m(e._id)},a,o),m(e._id)},p.eventResize=function(t,e,n,a,o){var i=r.mutateEvent(e,null,n);s("eventResize",t,e,function(){i(),m(e._id)},a,o),m(e._id)};var m=r.reportEventChange,y={},b=[],w=r.options,D=e.duration(w.nextDayThreshold);p.isHiddenDay=function(t){return e.isMoment(t)&&(t=t.day()),S[t]},p.skipHiddenDays=function(t,e,n){var r=t.clone();for(e=e||1;S[(r.day()+(n?e:0)+7)%7];)r.add("days",e);return r},p.getCellsPerWeek=function(){return T},p.dateToCell=function(t){return h(v(f(t)))},p.dateToDayOffset=f,p.dayOffsetToCellOffset=v,p.cellOffsetToCell=h,p.cellToDate=function(){return u(d(c.apply(null,arguments)))},p.cellToCellOffset=c,p.cellOffsetToDayOffset=d,p.dayOffsetToDate=u,p.rangeToSegments=function(t,e){var n=p.getRowCnt(),r=p.getColCnt(),a=[],o=f(t),i=f(e),s=+e.time();s&&s>=D&&i++,i=Math.max(i,o+1);for(var l=v(o),c=v(i)-1,u=0;n>u;u++){var g=u*r,m=g+r-1,y=Math.max(l,g),b=Math.min(c,m);if(b>=y){var w=h(y),T=h(b),C=[w.col,T.col].sort(),E=d(y)==o,S=d(b)+1==i;a.push({row:u,leftCol:C[0],rightCol:C[1],isStart:E,isEnd:S})}}return a};var T,E=i("hiddenDays")||[],S=[],k=[],x=[],M=i("isRTL");!function(){!1===i("weekends")&&E.push(0,6);for(var e=0,n=0;7>e;e++)k[e]=n,S[e]=-1!=t.inArray(e,E),S[e]||(x[n]=e,n++);if(!(T=n))throw"invalid hiddenDays"}()}function j(){function e(e,o,i){var c,d,u=R(),v=o?t("<div/>"):u,h=function(t){for(var e=[],r=0;t.length>r;r++){var a=n(t[r]);e.push.apply(e,a)}return e}(e);return function(t){for(var e=s("isRTL"),n=0;t.length>n;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?M:k,o=(e?r.isStart:r.isEnd)?z:x,i=a(r.leftCol),l=o(r.rightCol);r.left=i,r.outerWidth=l-i}}(h),c=function(t){for(var e="",n=0;t.length>n;n++)e+=r(t[n]);return e}(h),v[0].innerHTML=c,d=v.children(),o&&u.append(d),function(e,n){for(var r=0;e.length>r;r++){var a=e[r],o=a.event,i=n.eq(r),s=l("eventRender",o,o,i);!1===s?i.remove():(s&&!0!==s&&(s=t(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}}(h,d),q(h,function(t,e){t.hsides=f(e,!0)}),q(h,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),q(h,function(t,e){t.outerHeight=e.outerHeight(!0)}),function(t,e){var n,r=function(t){for(var e,n=C(),r=E(),o=[],i=function(t){var e,n,r,o=C(),i=[];for(e=0;t.length>e;e++)n=t[e],r=n.row,n.element&&(i[r]?i[r].push(n):i[r]=[n]);for(r=0;o>r;r++)i[r]=a(i[r]||[]);return i}(t),s=0;n>s;s++){var l=i[s],c=[];for(e=0;r>e;e++)c.push(0);for(var d=0;l.length>d;d++){var u=l[d];for(u.top=p(c.slice(u.leftCol,u.rightCol+1)),e=u.leftCol;u.rightCol>=e;e++)c[e]=u.top+u.outerHeight}o.push(p(c))}return o}(t),o=function(){var t,e=C(),n=[];for(t=0;e>t;t++)n[t]=S(t).find("div.fc-day-content > div");return n}(),i=[];if(e)for(n=0;o.length>n;n++)o[n].height(r[n]);for(n=0;o.length>n;n++)i.push(o[n].position().top);q(t,function(t,e){e.css("top",i[t.row]+t.top)})}(h,i),h}function n(t){for(var e=H(t.start,B(t)),n=0;e.length>n;n++)e[n].event=t;return e}function r(t){var e="",n=s("isRTL"),r=t.event,a=r.url,o=["fc-event","fc-event-hori"];d(r)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=D(r,s);return e+=a?"<a href='"+m(a)+"'":"<div",e+=" class='"+o.join(" ")+"' style='position:absolute;left:"+t.left+"px;"+i+"'>"+r.html+"<div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+m(j(r.start,s("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+m(r.title||"")+"</span></div>",r.allDay&&t.isEnd&&u(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),e+"</"+(a?"a":"div")+">"}function a(t){for(var e=[],n=function(t){t.sort($);for(var e=[],n=0;t.length>n;n++){for(var r=t[n],a=0;e.length>a&&I(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}(t),r=0;n.length>r;r++)e.push.apply(e,n[r]);return e}function o(t,e,n){d(t)&&i.draggableDayEvent(t,e,n),t.allDay&&n.isEnd&&u(t)&&i.resizableDayEvent(t,e,n),h(t,e)}var i=this;i.renderDayEvents=function(t,n){var r,a,i,s=e(t,!1,!0);q(s,function(t,e){v(t.event,e)}),r=s,a=n,i=R(),q(r,function(t,e,n){var r=t.event;r._id===a?o(r,e,t):e[0]._fci=n}),c(i,r,o),q(s,function(t,e){l("eventAfterRender",t.event,t.event,e)})},i.draggableDayEvent=function(t,e){var n,r,a=Y();e.draggable({delay:50,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(o,i){l("eventDragStart",e,t,o,i),y(t,e),a.start(function(a,o,i,s){if(e.draggable("option","revert",!a||!i&&!s),F(),a){var l=O(o),c=O(a);n=c.diff(l,"days"),r=t.start.clone().add("days",n),_(r,B(t).add("days",n))}else n=0},o,"drag")},stop:function(o,i){a.stop(),F(),l("eventDragStop",e,t,o,i),n?w(this,t,r,o,i):(e.css("filter",""),g(t,e))}})},i.resizableDayEvent=function(n,r,a){var o=s("isRTL")?"w":"e",i=r.find(".ui-resizable-"+o),c=!1;b(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){c&&(t.preventDefault(),t.stopImmediatePropagation())}),i.mousedown(function(i){if(1==i.which){c=!0;var s,d,u,f=Y(),v=r.css("top"),h=t.extend({},n),p=Z(L(n.start));N(),t("body").css("cursor",o+"-resize").one("mouseup",function(e){l("eventResizeStop",this,n,e),t("body").css("cursor",""),f.stop(),F(),s&&T(this,n,d,e),setTimeout(function(){c=!1},0)}),l("eventResizeStart",this,n,i),f.start(function(r,i){if(r){var l=A(i),c=A(r);if(c=Math.max(c,p),s=W(c)-W(l),d=B(n).add("days",s),s){h.end=d;var f=u;m=h,b=a.row,w=v,D=[],q(e([m],!0,!1),function(t,e){t.row===b&&e.css("top",w),D.push(e[0])}),(u=t(u=D)).find("*").css("cursor",o+"-resize"),f&&f.remove(),y(n)}else u&&(g(n),u.remove(),u=null);F(),_(n.start,d)}var m,b,w,D},i)}})};var s=i.opt,l=i.trigger,d=i.isEventDraggable,u=i.isEventResizable,v=i.reportEventElement,h=i.eventElementHandlers,g=i.showEvents,y=i.hideEvents,w=i.eventDrop,T=i.eventResize,C=i.getRowCnt,E=i.getColCnt,S=i.allDayRow,k=i.colLeft,x=i.colRight,M=i.colContentLeft,z=i.colContentRight,R=i.getDaySegmentContainer,_=i.renderDayOverlay,F=i.clearOverlays,N=i.clearSelection,Y=i.getHoverListener,H=i.rangeToSegments,O=i.cellToDate,A=i.cellToCellOffset,W=i.cellOffsetToDayOffset,L=i.dateToDayOffset,Z=i.dayOffsetToCellOffset,P=i.calendar,B=P.getEventEnd,j=P.formatDate}function I(t,e){for(var n=0;e.length>n;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function q(t,e){for(var n=0;t.length>n;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function $(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function V(){function e(t){d&&(d=!1,c(),i("unselect",null,t))}function n(t,e,n){d=!0,i("select",null,t,e,n)}var r=this;r.select=function(t,r){e(),t=a.moment(t),r=r?a.moment(r):s(t),l(t,r),n(t,r)},r.unselect=e,r.reportSelection=n,r.daySelectionMousedown=function(a){var i,s=r.cellToDate,d=r.getIsCellAllDay,u=r.getHoverListener(),f=r.reportDayClick;1==a.which&&o("selectable")&&(e(a),u.start(function(t,e){c(),t&&d(t)?(i=[s(e),s(t)].sort(h),l(i[0],i[1].clone().add("days",1))):i=null},a),t(document).one("mouseup",function(t){u.stop(),i&&(+i[0]==+i[1]&&f(i[0],t),n(i[0],i[1].clone().add("days",1),t))}))};var a=r.calendar,o=r.opt,i=r.trigger,s=r.defaultSelectionEnd,l=r.renderSelection,c=r.clearSelection,d=!1;o("selectable")&&o("unselectAuto")&&t(document).mousedown(function(n){var r=o("unselectCancel");r&&t(n.target).parents(r).length||e(n)})}function X(){this.renderOverlay=function(r,a){var o=n.shift();return o||(o=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),o[0].parentNode!=a[0]&&o.appendTo(a),e.push(o.css(r).show()),o},this.clearOverlays=function(){for(var t;t=e.shift();)n.push(t.hide().unbind())};var e=[],n=[]}function U(t){var e,n;this.build=function(){t(e=[],n=[])},this.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,l=-1;for(a=0;o>a;a++)if(r>=e[a][0]&&e[a][1]>r){s=a;break}for(a=0;i>a;a++)if(t>=n[a][0]&&n[a][1]>t){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},this.rect=function(t,r,a,o,i){var s=i.offset();return{top:e[t][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function G(e){function n(t){var n;void 0===(n=t).pageX&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY);var r=e.cell(t.pageX,t.pageY);(Boolean(r)!==Boolean(i)||r&&(r.row!=i.row||r.col!=i.col))&&(r?(o||(o=r),a(r,o,r.row-o.row,r.col-o.col)):a(r,o),i=r)}var r,a,o,i;this.start=function(s,l,c){a=s,o=i=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},this.stop=function(){return t(document).unbind(r,n),i}}function Q(t){function e(e){return r[e]=r[e]||t(e)}var n=this,r={},a={},o={};n.left=function(t){return a[t]=void 0===a[t]?e(t).position().left:a[t]},n.right=function(t){return o[t]=void 0===o[t]?n.left(t)+e(t).width():o[t]},n.clear=function(){r={},a={},o={}}}var J={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:function(t,e){var n=e.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},day:"dddd"},timeFormat:{default:function(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}},isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},K={en:{columnFormat:{week:"ddd M/D"}}},tt={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},et=t.fullCalendar={version:"2.0.0-beta2"},nt=et.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),r=this;return this.each(function(a,i){var s,l=t(i),c=l.data("fullCalendar");"string"==typeof e?c&&t.isFunction(c[e])&&(s=c[e].apply(c,n),a||(r=s),"destroy"===e&&l.removeData("fullCalendar")):c||(c=new o(l,e),l.data("fullCalendar",c),c.render())}),r},et.langs=K,et.datepickerLang=function(e,n,a){var o=K[e];o||(o=K[e]={}),r(o,{isRTL:a.isRTL,weekNumberTitle:a.weekHeader,titleFormat:{month:a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"},buttonText:{prev:y(a.prevText),next:y(a.nextText),today:y(a.currentText)}}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=a,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(a))},et.lang=function(t,e){var n;e&&((n=K[t])||(n=K[t]={}),r(n,e||{})),J.lang=t},et.sourceNormalizers=[],et.sourceFetchers=[];var rt={dataType:"json",cache:!1},at=1;et.applyAll=T;var ot=["sun","mon","tue","wed","thu","fri","sat"],it=/^\s*\d{4}-\d\d$/,st=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;et.moment=function(){return E(arguments)},et.moment.utc=function(){return E(arguments,!0)},et.moment.parseZone=function(){return E(arguments,!0,!0)},S.prototype=s(e.fn),S.prototype.clone=function(){return E([this])},S.prototype.time=function(t){return null==t?e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}):(delete this._ambigTime,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t)),this.hours(t.hours()+24*t.days()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds()))},S.prototype.stripTime=function(){var t=this.toArray();return e.fn.utc.call(this),this._ambigTime=!0,this._ambigZone=!0,this.year(t[0]).month(t[1]).date(t[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this},S.prototype.hasTime=function(){return!this._ambigTime},S.prototype.stripZone=function(){var t=this.toArray();return e.fn.utc.call(this),this._ambigZone=!0,this.year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6]),this},S.prototype.hasZone=function(){return!this._ambigZone},S.prototype.zone=function(t){return null!=t&&delete this._ambigZone,e.fn.zone.apply(this,arguments)},S.prototype.local=function(){return delete this._ambigZone,e.fn.local.apply(this,arguments)},S.prototype.utc=function(){return delete this._ambigZone,e.fn.utc.apply(this,arguments)},S.prototype.format=function(){return arguments[0]?M(this,arguments[0]):this._ambigTime?x(this,"YYYY-MM-DD"):this._ambigZone?x(this,"YYYY-MM-DD[T]HH:mm:ss"):x(this)},S.prototype.toISOString=function(){return this._ambigTime?x(this,"YYYY-MM-DD"):this._ambigZone?x(this,"YYYY-MM-DD[T]HH:mm:ss"):e.fn.toISOString.apply(this,arguments)},S.prototype.isWithin=function(t,e){var n=k([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},t.each(["isBefore","isAfter","isSame"],function(t,n){S.prototype[n]=function(t,r){var a=k([this,t]);return e.fn[n].call(a[0],a[1],r)}});var lt={t:function(t){return x(t,"a").charAt(0)},T:function(t){return x(t,"A").charAt(0)}};et.formatRange=_;var ct={Y:"year",M:"month",D:"day",d:"day"},dt={};nt.month=function(t,e){var n=this;n.incrementDate=function(t,e){return t.clone().stripTime().add("months",e).startOf("month")},n.render=function(t){n.intervalStart=t.clone().stripTime().startOf("month"),n.intervalEnd=n.intervalStart.clone().add("months",1),n.start=n.intervalStart.clone().startOf("week"),n.start=n.skipHiddenDays(n.start),n.end=n.intervalEnd.clone().add("days",(7-n.intervalEnd.weekday())%7),n.end=n.skipHiddenDays(n.end,-1,!0);var r=Math.ceil(n.end.diff(n.start,"weeks",!0));"fixed"==n.opt("weekMode")&&(n.end.add("weeks",6-r),r=6),n.title=e.formatDate(n.intervalStart,n.opt("titleFormat")),n.renderBasic(r,n.getCellsPerWeek(),!0)},Y.call(n,t,e,"month")},nt.basicWeek=function(t,e){var n=this;n.incrementDate=function(t,e){return t.clone().stripTime().add("weeks",e).startOf("week")},n.render=function(t){n.intervalStart=t.clone().stripTime().startOf("week"),n.intervalEnd=n.intervalStart.clone().add("weeks",1),n.start=n.skipHiddenDays(n.intervalStart),n.end=n.skipHiddenDays(n.intervalEnd,-1,!0),n.title=e.formatRange(n.start,n.end.clone().subtract(1),n.opt("titleFormat"),"  "),n.renderBasic(1,n.getCellsPerWeek(),!1)},Y.call(n,t,e,"basicWeek")},nt.basicDay=function(t,e){var n=this;n.incrementDate=function(t,e){var r=t.clone().stripTime().add("days",e);return n.skipHiddenDays(r,0>e?-1:1)},n.render=function(t){n.start=n.intervalStart=t.clone().stripTime(),n.end=n.intervalEnd=n.start.clone().add("days",1),n.title=e.formatDate(n.start,n.opt("titleFormat")),n.renderBasic(1,1,!1)},Y.call(n,t,e,"basicDay")},n({weekMode:"fixed"}),nt.agendaWeek=function(t,e){var n=this;n.incrementDate=function(t,e){return t.clone().stripTime().add("weeks",e).startOf("week")},n.render=function(t){n.intervalStart=t.clone().stripTime().startOf("week"),n.intervalEnd=n.intervalStart.clone().add("weeks",1),n.start=n.skipHiddenDays(n.intervalStart),n.end=n.skipHiddenDays(n.intervalEnd,-1,!0),n.title=e.formatRange(n.start,n.end.clone().subtract(1),n.opt("titleFormat"),"  "),n.renderAgenda(n.getCellsPerWeek())},H.call(n,t,e,"agendaWeek")},nt.agendaDay=function(t,e){var n=this;n.incrementDate=function(t,e){var r=t.clone().stripTime().add("days",e);return n.skipHiddenDays(r,0>e?-1:1)},n.render=function(t){n.start=n.intervalStart=t.clone().stripTime(),n.end=n.intervalEnd=n.start.clone().add("days",1),n.title=e.formatDate(n.start,n.opt("titleFormat")),n.renderAgenda(1)},H.call(n,t,e,"agendaDay")},n({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:function(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},timeFormat:{agenda:function(t,e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},dragOpacity:{agenda:.5},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0})});