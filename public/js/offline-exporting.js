!function(e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):e(Highcharts)}(function(e){!function(e){function t(t,n){var o=r.getElementsByTagName("head")[0],a=r.createElement("script");a.type="text/javascript",a.src=t,a.onload=n,a.onerror=function(){e.error("Error loading script "+t)},o.appendChild(a)}var n=e.addEvent,o=e.merge,a=e.win,i=a.navigator,r=a.document,l=e.each,c=a.URL||a.webkitURL||a,d=/Edge\/|Trident\/|MSIE /.test(i.userAgent),g=/Edge\/\d+/.test(i.userAgent),s=d?150:0;e.CanVGRenderer={},e.dataURLtoBlob=function(e){if(a.atob&&a.ArrayBuffer&&a.Uint8Array&&a.Blob&&c.createObjectURL){e=e.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);for(var t=a.atob(e[3]),n=new a.ArrayBuffer(t.length),o=(n=new a.Uint8Array(n),0);o<n.length;++o)n[o]=t.charCodeAt(o);return e=new a.Blob([n],{type:e[1]}),c.createObjectURL(e)}},e.downloadURL=function(t,n){var o,l=r.createElement("a");if("string"==typeof t||t instanceof String||!i.msSaveOrOpenBlob){if((g||2e6<t.length)&&!(t=e.dataURLtoBlob(t)))throw"Data URL length limit reached";if(void 0!==l.download)l.href=t,l.download=n,r.body.appendChild(l),l.click(),r.body.removeChild(l);else try{if(void 0===(o=a.open(t,"chart"))||null===o)throw"Failed to open window"}catch(e){a.location.href=t}}else i.msSaveOrOpenBlob(t,n)},e.svgToDataUrl=function(e){var t=-1<i.userAgent.indexOf("WebKit")&&0>i.userAgent.indexOf("Chrome");try{if(!t&&0>i.userAgent.toLowerCase().indexOf("firefox"))return c.createObjectURL(new a.Blob([e],{type:"image/svg+xml;charset-utf-16"}))}catch(e){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)},e.imageToDataUrl=function(e,t,n,o,i,l,c,d,g){var f,p=new a.Image,h=function(){setTimeout(function(){var a,l=r.createElement("canvas"),d=l.getContext&&l.getContext("2d");try{if(d){l.height=p.height*o,l.width=p.width*o,d.drawImage(p,0,0,l.width,l.height);try{a=l.toDataURL(t),i(a,t,n,o)}catch(a){f(e,t,n,o)}}else c(e,t,n,o)}finally{g&&g(e,t,n,o)}},s)},m=function(){d(e,t,n,o),g&&g(e,t,n,o)};f=function(){p=new a.Image,f=l,p.crossOrigin="Anonymous",p.onload=h,p.onerror=m,p.src=e},p.onload=h,p.onerror=m,p.src=e},e.downloadSVGLocal=function(n,o,d,g){function s(){y.innerHTML=n;var t,o,i,r=y.getElementsByTagName("text");l(r,function(e){l(["font-family","font-size"],function(t){for(var n=e;n&&n!==y;){if(n.style[t]){e.style[t]=n.style[t];break}n=n.parentNode}}),e.style["font-family"]=e.style["font-family"]&&e.style["font-family"].split(" ").splice(-1),t=e.getElementsByTagName("title"),l(t,function(t){e.removeChild(t)})}),o=y.firstChild,i=0,i=new a.jsPDF("l","pt",[o.width.baseVal.value+2*i,o.height.baseVal.value+2*i]),l(o.querySelectorAll('*[visibility="hidden"]'),function(e){e.parentNode.removeChild(e)}),a.svg2pdf(o,i,{removeInvalid:!0}),r=i.output("datauristring");try{e.downloadURL(r,w),g&&g()}catch(e){d(e)}}var f,p,h,m=!0,u=o.libURL||e.getOptions().exporting.libURL,y=r.createElement("div"),v=o.type||"image/png",w=(o.filename||"chart")+"."+("image/svg+xml"===v?"svg":v.split("/")[1]),b=o.scale||1;if(u="/"!==u.slice(-1)?u+"/":u,"image/svg+xml"===v)try{i.msSaveOrOpenBlob?((p=new MSBlobBuilder).append(n),f=p.getBlob("image/svg+xml")):f=e.svgToDataUrl(n),e.downloadURL(f,w),g&&g()}catch(e){d(e)}else"application/pdf"===v?a.jsPDF&&a.svg2pdf?s():(m=!0,t(u+"jspdf.js",function(){t(u+"svg2pdf.js",function(){s()})})):(f=e.svgToDataUrl(n),h=function(){try{c.revokeObjectURL(f)}catch(e){}},e.imageToDataUrl(f,v,{},b,function(t){try{e.downloadURL(t,w),g&&g()}catch(e){d(e)}},function(){var o=r.createElement("canvas"),l=o.getContext("2d"),c=n.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*b,s=n.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*b,f=function(){l.drawSvg(n,0,0,c,s);try{e.downloadURL(i.msSaveOrOpenBlob?o.msToBlob():o.toDataURL(v),w),g&&g()}catch(e){d(e)}finally{h()}};o.width=c,o.height=s,a.canvg?f():(m=!0,t(u+"rgbcolor.js",function(){t(u+"canvg.js",function(){f()})}))},d,d,function(){m&&h()}))},e.Chart.prototype.getSVGForLocalExport=function(t,o,a,i){var r,l,c,d,g,s,f=this,p=0,h=function(e,t,n){++p,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",e),p===r.length&&i(f.sanitizeSVG(l.innerHTML,c))};f.unbindGetSVG=n(f,"getSVG",function(e){c=e.chartCopy.options,l=e.chartCopy.container.cloneNode(!0)}),f.getSVGForExport(t,o),r=l.getElementsByTagName("image");try{if(!r.length)return void i(f.sanitizeSVG(l.innerHTML,c));for(g=0,s=r.length;g<s;++g)d=r[g],e.imageToDataUrl(d.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:d},t.scale,h,a,a,a)}catch(e){a(e)}f.unbindGetSVG()},e.Chart.prototype.exportChartLocal=function(t,n){console.log(t);var o=this,a=e.merge(o.options.exporting,t),i=function(t){!1===a.fallbackToExportServer?a.error?a.error(a,t):e.error(28,!0):o.exportChart(a)};d&&("application/pdf"===a.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==a.type)||"application/pdf"===a.type&&o.container.getElementsByTagName("image").length?i("Image type not supported for this chart/browser."):o.getSVGForLocalExport(a,n,i,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==a.type?i("Image type not supported for charts with embedded HTML"):e.downloadSVGLocal(t,a,i)})},o(!0,e.getOptions().exporting,{libURL:"http://ifive.in",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}})}(e)});